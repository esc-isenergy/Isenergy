

@{
    var treeList = Html.DevExpress().TreeList(settings =>
    {
        settings.Name = "TreeListSubdivision";
        settings.CallbackRouteValues = new { Controller = "Documents", Action = "TreeListSubdivision", identifierSubscriber = ViewData["IdentifierSubscriber"] };
       // settings.Width = 850;
        settings.Width = System.Web.UI.WebControls.Unit.Percentage(90);
        settings.Height = System.Web.UI.WebControls.Unit.Percentage(100);
     
        settings.KeyFieldName = "idSubdivision";
        settings.ParentFieldName = "IdParent";
        settings.CommandColumn.Visible = true;
        settings.AutoGenerateColumns = false;
        settings.AutoGenerateServiceColumns = false;

        TreeListCommandColumnCustomButton Details = new TreeListCommandColumnCustomButton();
        Details.Text = "Выбрать";
        Details.ID = "Select";
        settings.CommandColumn.Caption = "Выбрать";
        settings.CommandColumn.CustomButtons.Add(Details);
        settings.ClientSideEvents.CustomButtonClick = "function (s,e){  GetSubdivision(e.nodeKey) }"; 
     
       
      
        settings.Columns.Add(
    column =>
    {
        column.Width = 250;
        column.FieldName = "SubdivisionName";
        column.Caption = "Наименование подразделения";
    }
);
        settings.Columns.Add(
       column =>
       {
           column.Width = 80;
           column.FieldName = "SubdivisionCode";
           column.Caption = "Код подразделения";
       } );

    
       
  

    });
	}

@treeList.Bind(Model).GetHtml()
