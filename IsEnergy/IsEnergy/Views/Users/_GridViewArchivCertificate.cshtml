@{
	var grid = Html.DevExpress().GridView(settings => {
        settings.Name = "GridViewArchivCertificate";

        settings.CallbackRouteValues = new { Controller = "Users", Action = "GridViewArchivCertificate", id = ViewData["idUser"] };
        
        settings.SettingsEditing.Mode = GridViewEditingMode.EditFormAndDisplayRow;
        settings.SettingsBehavior.ConfirmDelete = true;
		settings.SettingsPager.Visible = true;
        settings.Width = 680;
        settings.Height = 100;// размеры установить правильно
		
		settings.SettingsBehavior.AllowSelectByRowClick = true;
		
	    settings.Columns.Add(column =>
         {
            column.SetDataItemTemplateContent(c =>
                {
                  ViewContext.Writer.Write(

                    @Html.DevExpress().HyperLink(s =>
                        {
                            s.NavigateUrl = DevExpressHelper.GetUrl(new { Controller = "Users", Action = "Loadcert", Id = DataBinder.Eval(c.DataItem, "IdCertificate") });
                            s.Properties.Text = "Загрузить";
   
                        }).GetHtml()
                    );
                 
                }); 
          });
		
                settings.Columns.Add(column =>
                {
                    column.FieldName = "CertificateSerialNumber";
                    column.Caption = "Серийный номер";
                });
                settings.Columns.Add(column =>
                {
                    column.FieldName = "CertificateValidFrom";
                    column.Caption = "Действителен с";
                });
                settings.Columns.Add(column =>
                {
                    column.FieldName = "CertificateValidUntil";
                    column.Caption = "Действителен до";
                });
                settings.Columns.Add(column =>
                {
                    column.FieldName = "PublisherCertificate";
                    column.Caption = "Издатель";
                });
				
				
			});
		if (ViewData["EditError"] != null){
        grid.SetEditErrorText((string)ViewData["EditError"]);
    }
	}

@grid.Bind(Model).GetHtml()